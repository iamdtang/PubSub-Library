/*! PubSub-Library - v1.1.0 - 2012-09-21
* https://github.com/skaterdav85/PubSub-Library.git
* Copyright (c) 2012 David Tang; Licensed MIT, GPL */
(function(e,t){var n=function(){this.topicList={},this.subID=0};n.prototype={constructor:n,publish:function(e){var n,r,i=null;if(typeof e!="string")throw new Error("Topic must be a string");arguments[1]!==t&&(i=arguments[1]);if(!this.topicList[e])throw new Error("No subscriptions to topic: "+e);for(n in this.topicList[e])this.topicList[e].hasOwnProperty(n)&&(r=this.topicList[e][n],r.cb.call(r.context,i))},subscribe:function(e,t,n){var r;if(typeof e!="string"&&typeof t!="function")throw new Error("Subscribe arguments of the wrong type.");return this.topicList[e]||(this.topicList[e]={}),this.subID+=1,r=n||this,this.topicList[e][this.subID]={cb:t,context:r},this.subID},unsubscribe:function(e,t){if(typeof e!="string"&&typeof t!="number")throw new Error("Unsubscribe arguments of the wrong type.");return this.topicList[e][t]?(delete this.topicList[e][t],!0):!1}},e.PS=n})(window);