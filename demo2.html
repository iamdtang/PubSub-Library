<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Contact Search</title>
<style>
	div {
		margin:15px;
	}
</style>
</head>

<body>

<div id="searchBox">
	<input type="text" id="search-input" />
	<input type="button" value="Search" id="search" />
</div>

<div id="mySearch"></div>

<div id="results">
	<h3>My Buddies</h3>
	<ul id="contacts">
		<li>David</li>
		<li>John</li>
		<li>Abtin</li>
		<li>Kevin</li>
		<li>Patrick</li>
		<li>Doug</li>
		<li>Shehzad</li>
		<li>Kristen</li>
		<li>Christine</li>
		<li>Pat</li>
		<li>Johnathan</li>
		<li>Chris</li>
	</ul>
</div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script src="pubsub.js"></script>
<script>

PS.subscribe('search-made', 'styleResults', function(data) {
	$('#contacts li').each(function() {
		if (this.innerHTML === data[0]) {
			this.style.color = 'green';
		}
	});
});

PS.subscribe('search-made', 'displaySearchTerm', function(data) {
	document.getElementById('mySearch').innerHTML = "Your Search was: " + data[0];
});

$('#search').bind('click', function() {
	var searchTerm = document.getElementById('search-input').value;
	PS.publish('search-made', [searchTerm]);
});

//PS.unsubscribe('search-made', 'displaySearchTerm');

</script>

</body>
</html>
