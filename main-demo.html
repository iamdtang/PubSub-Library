<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Contact Search</title>
<style>
	div {margin:15px;}
</style>
</head>

<body>

<div id="searchBox">
	<input type="text" id="search-input" />
	<input type="button" value="Search" id="search" />
</div>

<div id="mySearch"></div>

<div id="results">
	<h3>My Buddies</h3>
	<ul id="contacts">
		<li>David</li>
		<li>John</li>
		<li>Abtin</li>
		<li>Kevin</li>
		<li>Patrick</li>
		<li>Doug</li>
		<li>Shehzad</li>
		<li>Kristen</li>
		<li>Christine</li>
		<li>Pat</li>
		<li>Johnathan</li>
		<li>Chris</li>
	</ul>
</div>

<script src="jquery.min.js"></script>
<script src="pubsub.js"></script>
<script>
var highlightSearch = PS.subscribe('search-made', function(searchTerm) {
	$('#contacts li').each(function() {
		if (this.innerHTML === searchTerm) {
			this.style.backgroundColor = 'yellow';
		}
	});
});

var yourSearch = PS.subscribe('search-made', function(searchTerm) {
	document.getElementById('mySearch').innerHTML = "Your Search was: " + searchTerm;
});

$('#search').bind('click', function() {
	var searchTerm = document.getElementById('search-input').value;
	PS.publish('search-made', searchTerm);
});

//uncomment the following line if you want to unsubscribe either modules
//PS.unsubscribe('search-made', yourSearch);
//PS.unsubscribe('search-made', highlightSearch);
</script>

</body>
</html>
